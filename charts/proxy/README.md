# Proxy helm chart

## TL;DR;

```console
helm repo add stenic https://stenic.github.io/helm-charts
helm install my-release stenic/proxy
```


## Introduction

This chart provides a simple way to setup a reverse proxy to local or remote endpoints.


## Prerequisites

- Kubernetes 1.12+
- Helm 2.11+ or Helm 3.0+


## Installing the Chart

To install the chart with the release name `my-release`:

```console
helm repo add stenic https://stenic.github.io/helm-charts
helm install my-release stenic/proxy
```

These commands deploy Ledger on the Kubernetes cluster in the default configuration. The [Parameters](#parameters) section lists the parameters that can be configured during installation.

> **Tip**: List all releases using `helm list`


## Uninstalling the Chart

To uninstall/delete the `my-release` deployment:

```console
helm delete my-release
```

The command removes all the Kubernetes components associated with the chart and deletes the release.


## Configuration

The following tables list the configurable parameters of the Ledger chart and their default values.

| Parameter                         | Description                          | Default                                   |
| --------------------------------- | ------------------------------------ | ----------------------------------------- |
| `nameOverride`                    | Override the resource name prefix    | `ledger`                                  |
| `fullnameOverride`                | Override the full resource names     | `ledger-{release-name}`                   |
| `serviceAccount.create`           | Configures if a ServiceAccount with this name should be created | `true`         |
| `serviceAccount.annotations`      | Configures annotation for the ServiceAccount | `{}`                              |
| `serviceAccountAgent.name`        | Name of the agent ServiceAccount to be used by access-controlled resources | autogenerated |
| `service.type`                    | Kubernetes service type              | `ClusterIP`                               |
| `service.port`                    | Kubernetes service port              | `80`                                      |
| `ingress.enabled`                 | Enables ingress                      | `false`                                   |
| `ingress.annotations`             | Ingress annotations                  | `{}`                                      |
| `proxy[].name`                    | Name of the proxy                    | nil                                       |
| `proxy[].hosts[].host`            | Hostname to listen to                | nil                                       |
| `proxy[].hosts[].paths`           | Paths to listen to                   | `[]`                                      |
| `proxy[].backend.ip`              | The IP of the backend                | nil                                       |
| `proxy[].backend.port`            | The port of the backend              | nil                                       |
| `proxy[].tls`                     | TLS configuration                    | nil                                       |

Specify each parameter using the `--set key=value[,key=value]` argument to `helm install`.

Alternatively, a YAML file that specifies the values for the parameters can be provided while installing the chart. For example,

```console
helm install my-release -f values.yaml stenic/proxy
```
